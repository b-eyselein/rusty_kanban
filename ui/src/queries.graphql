# /
query AllProjects {
  projects {
    id
    title
  }
}

# /projects/:id

fragment Task on Task {
  id
  content
}

fragment Card on Card {
  id
  title
  tasks {
    ...Task
  }
}

fragment Slot on Slot {
  id
  title
  cards {
    ...Card
  }
}

fragment Board on Board {
  id
  title
  slots {
    ...Slot
  }
}

query ProjectById($id: Int!) {
  projectById(id: $id) {
    title
    boards {
      ...Board
    }
  }
}

# Mutations

mutation CreateProject($title: String!) {
  createProject(title: $title)
}

mutation RenameProject($id: Int!, $newTitle: String!) {
  projectMutations(id: $id) {
    rename(newTitle: $newTitle)
  }
}

mutation CreateBoard($projectId: Int!, $title: String!) {
  projectMutations(id: $projectId) {
    createBoard(title: $title)
  }
}

mutation CreateSlot($boardId: Int!, $title: String!) {
  boardMutations(id: $boardId) {
    createSlot(title: $title)
  }
}

mutation CreateCard($slotId: Int!, $title: String!) {
  slotMutations(id: $slotId) {
    createCard(title: $title)
  }
}

mutation CreateTask($cardId: Int!, $content: String!) {
  cardMutations(id: $cardId) {
    createTask(content: $content)
  }
}
